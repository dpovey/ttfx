# TS9001: No Instance Found

**Category:** Typeclass Resolution  
**Severity:** Error

## Message

```
No instance of '{typeclass}' found for type '{type}'
```

## Explanation

The typesugar compiler couldn't find a typeclass instance to use at a call site. This happens when you:

1. Call `summon<TC<T>>()` for a typeclass `TC` and type `T` that doesn't have an instance
2. Use an operator like `===` or method like `.show()` on a type without the required typeclass instance
3. Have nested types where an inner field type lacks the required instance

## Common Causes

### 1. Missing `@derive` annotation

```typescript
// Error: No instance of 'Eq' found for type 'Point'
interface Point {
  x: number;
  y: number;
}

const p1: Point = { x: 1, y: 2 };
const p2: Point = { x: 1, y: 2 };
console.log(p1 === p2); // TS9001
```

**Fix:** Add `@derive(Eq)` to the type:

```typescript
@derive(Eq)
interface Point {
  x: number;
  y: number;
}
```

### 2. Field type lacks instance

```typescript
@derive(Eq)
interface Container {
  data: CustomType; // CustomType doesn't have Eq
}
```

**Fix:** Either derive `Eq` for `CustomType`, or provide a custom instance:

```typescript
@derive(Eq)
class CustomType { /* ... */ }

// Or define a custom @instance
@instance
const eqCustomType: Eq<CustomType> = {
  equals: (a, b) => /* custom logic */
};
```

### 3. Generic type without constraint

```typescript
function compare<T>(a: T, b: T): boolean {
  return summon<Eq<T>>().equals(a, b); // TS9001 if T has no Eq constraint
}
```

**Fix:** Add a typeclass constraint, or use `@implicits`:

```typescript
// Option 1: Explicit constraint
function compare<T>(a: T, b: T, eq: Eq<T>): boolean {
  return eq.equals(a, b);
}

// Option 2: Use @implicits to auto-fill
@implicits
function compare<T>(a: T, b: T, eq: Eq<T>): boolean {
  return eq.equals(a, b);
}
```

## Suppression

If you intentionally want to skip typeclass resolution for specific code, you can use the explicit form:

```typescript
// Instead of relying on implicit resolution
p1 === p2;

// Use explicit equality check if you know it's safe
JSON.stringify(p1) === JSON.stringify(p2);
```

## See Also

- [Typeclass Guide](/guides/typeclasses.md)
- [Derive Guide](/guides/derive.md)
- [TS9102](./TS9102.md) - Missing field instance
