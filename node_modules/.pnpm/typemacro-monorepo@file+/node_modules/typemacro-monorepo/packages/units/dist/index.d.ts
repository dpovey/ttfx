import * as _typemacro_core from '@typemacro/core';

/**
 * Type-Safe Units Library
 *
 * A compile-time unit system inspired by boost::units.
 * Uses TypeScript's type system to ensure unit correctness at compile time.
 *
 * The key insight is encoding unit dimensions in the type system:
 * - Mass: M
 * - Length: L
 * - Time: T
 * - etc.
 *
 * Each dimension has an exponent. For example:
 * - Velocity = Length / Time = L^1 * T^-1
 * - Acceleration = Velocity / Time = L^1 * T^-2
 * - Force = Mass * Acceleration = M^1 * L^1 * T^-2
 */
type N5 = {
    _tag: "int";
    value: -5;
};
type N4 = {
    _tag: "int";
    value: -4;
};
type N3 = {
    _tag: "int";
    value: -3;
};
type N2 = {
    _tag: "int";
    value: -2;
};
type N1 = {
    _tag: "int";
    value: -1;
};
type Z0 = {
    _tag: "int";
    value: 0;
};
type P1 = {
    _tag: "int";
    value: 1;
};
type P2 = {
    _tag: "int";
    value: 2;
};
type P3 = {
    _tag: "int";
    value: 3;
};
type P4 = {
    _tag: "int";
    value: 4;
};
type P5 = {
    _tag: "int";
    value: 5;
};
type DimExp = N5 | N4 | N3 | N2 | N1 | Z0 | P1 | P2 | P3 | P4 | P5;
/**
 * Represents the dimensions of a physical quantity.
 * Each property is the exponent of that base dimension.
 */
interface Dimensions<M extends DimExp = Z0, // Mass (kg)
L extends DimExp = Z0, // Length (m)
T extends DimExp = Z0, // Time (s)
I extends DimExp = Z0, // Electric current (A)
Θ extends DimExp = Z0, // Temperature (K)
N extends DimExp = Z0, // Amount of substance (mol)
J extends DimExp = Z0> {
    mass: M;
    length: L;
    time: T;
    current: I;
    temperature: Θ;
    amount: N;
    luminosity: J;
}
type AddMap = {
    "-5": {
        "-5": N5;
        "-4": N5;
        "-3": N5;
        "-2": N5;
        "-1": N5;
        "0": N5;
        "1": N4;
        "2": N3;
        "3": N2;
        "4": N1;
        "5": Z0;
    };
    "-4": {
        "-5": N5;
        "-4": N5;
        "-3": N5;
        "-2": N5;
        "-1": N5;
        "0": N4;
        "1": N3;
        "2": N2;
        "3": N1;
        "4": Z0;
        "5": P1;
    };
    "-3": {
        "-5": N5;
        "-4": N5;
        "-3": N5;
        "-2": N5;
        "-1": N4;
        "0": N3;
        "1": N2;
        "2": N1;
        "3": Z0;
        "4": P1;
        "5": P2;
    };
    "-2": {
        "-5": N5;
        "-4": N5;
        "-3": N5;
        "-2": N4;
        "-1": N3;
        "0": N2;
        "1": N1;
        "2": Z0;
        "3": P1;
        "4": P2;
        "5": P3;
    };
    "-1": {
        "-5": N5;
        "-4": N5;
        "-3": N4;
        "-2": N3;
        "-1": N2;
        "0": N1;
        "1": Z0;
        "2": P1;
        "3": P2;
        "4": P3;
        "5": P4;
    };
    "0": {
        "-5": N5;
        "-4": N4;
        "-3": N3;
        "-2": N2;
        "-1": N1;
        "0": Z0;
        "1": P1;
        "2": P2;
        "3": P3;
        "4": P4;
        "5": P5;
    };
    "1": {
        "-5": N4;
        "-4": N3;
        "-3": N2;
        "-2": N1;
        "-1": Z0;
        "0": P1;
        "1": P2;
        "2": P3;
        "3": P4;
        "4": P5;
        "5": P5;
    };
    "2": {
        "-5": N3;
        "-4": N2;
        "-3": N1;
        "-2": Z0;
        "-1": P1;
        "0": P2;
        "1": P3;
        "2": P4;
        "3": P5;
        "4": P5;
        "5": P5;
    };
    "3": {
        "-5": N2;
        "-4": N1;
        "-3": Z0;
        "-2": P1;
        "-1": P2;
        "0": P3;
        "1": P4;
        "2": P5;
        "3": P5;
        "4": P5;
        "5": P5;
    };
    "4": {
        "-5": N1;
        "-4": Z0;
        "-3": P1;
        "-2": P2;
        "-1": P3;
        "0": P4;
        "1": P5;
        "2": P5;
        "3": P5;
        "4": P5;
        "5": P5;
    };
    "5": {
        "-5": Z0;
        "-4": P1;
        "-3": P2;
        "-2": P3;
        "-1": P4;
        "0": P5;
        "1": P5;
        "2": P5;
        "3": P5;
        "4": P5;
        "5": P5;
    };
};
type NegMap = {
    "-5": P5;
    "-4": P4;
    "-3": P3;
    "-2": P2;
    "-1": P1;
    "0": Z0;
    "1": N1;
    "2": N2;
    "3": N3;
    "4": N4;
    "5": N5;
};
type DimToString<D extends DimExp> = `${D["value"]}`;
type AddDim<A extends DimExp, B extends DimExp> = AddMap[DimToString<A>][DimToString<B>];
type NegDim<D extends DimExp> = NegMap[DimToString<D>];
type SubDim<A extends DimExp, B extends DimExp> = AddDim<A, NegDim<B>>;
/**
 * Multiply two dimensional types (add exponents)
 */
type MulDimensions<D1 extends Dimensions<DimExp, DimExp, DimExp, DimExp, DimExp, DimExp, DimExp>, D2 extends Dimensions<DimExp, DimExp, DimExp, DimExp, DimExp, DimExp, DimExp>> = Dimensions<AddDim<D1["mass"], D2["mass"]>, AddDim<D1["length"], D2["length"]>, AddDim<D1["time"], D2["time"]>, AddDim<D1["current"], D2["current"]>, AddDim<D1["temperature"], D2["temperature"]>, AddDim<D1["amount"], D2["amount"]>, AddDim<D1["luminosity"], D2["luminosity"]>>;
/**
 * Divide dimensional types (subtract exponents)
 */
type DivDimensions<D1 extends Dimensions<DimExp, DimExp, DimExp, DimExp, DimExp, DimExp, DimExp>, D2 extends Dimensions<DimExp, DimExp, DimExp, DimExp, DimExp, DimExp, DimExp>> = Dimensions<SubDim<D1["mass"], D2["mass"]>, SubDim<D1["length"], D2["length"]>, SubDim<D1["time"], D2["time"]>, SubDim<D1["current"], D2["current"]>, SubDim<D1["temperature"], D2["temperature"]>, SubDim<D1["amount"], D2["amount"]>, SubDim<D1["luminosity"], D2["luminosity"]>>;
type Dimensionless = Dimensions<Z0, Z0, Z0, Z0, Z0, Z0, Z0>;
type Mass = Dimensions<P1, Z0, Z0, Z0, Z0, Z0, Z0>;
type Length = Dimensions<Z0, P1, Z0, Z0, Z0, Z0, Z0>;
type Time = Dimensions<Z0, Z0, P1, Z0, Z0, Z0, Z0>;
type Current = Dimensions<Z0, Z0, Z0, P1, Z0, Z0, Z0>;
type Temperature = Dimensions<Z0, Z0, Z0, Z0, P1, Z0, Z0>;
type Area = Dimensions<Z0, P2, Z0, Z0, Z0, Z0, Z0>;
type Volume = Dimensions<Z0, P3, Z0, Z0, Z0, Z0, Z0>;
type Velocity = Dimensions<Z0, P1, N1, Z0, Z0, Z0, Z0>;
type Acceleration = Dimensions<Z0, P1, N2, Z0, Z0, Z0, Z0>;
type Force = Dimensions<P1, P1, N2, Z0, Z0, Z0, Z0>;
type Energy = Dimensions<P1, P2, N2, Z0, Z0, Z0, Z0>;
type Power = Dimensions<P1, P2, N3, Z0, Z0, Z0, Z0>;
type Pressure = Dimensions<P1, N1, N2, Z0, Z0, Z0, Z0>;
type Frequency = Dimensions<Z0, Z0, N1, Z0, Z0, Z0, Z0>;
type Voltage = Dimensions<P1, P2, N3, N1, Z0, Z0, Z0>;
type Resistance = Dimensions<P1, P2, N3, N2, Z0, Z0, Z0>;
/**
 * A quantity with a value and dimensional type.
 * The dimension is encoded in the type system for compile-time checking.
 */
declare class Unit<D extends Dimensions<DimExp, DimExp, DimExp, DimExp, DimExp, DimExp, DimExp>> {
    readonly value: number;
    readonly symbol: string;
    constructor(value: number, symbol?: string);
    /**
     * Add two quantities with the same dimensions
     */
    add(other: Unit<D>): Unit<D>;
    /**
     * Subtract two quantities with the same dimensions
     */
    sub(other: Unit<D>): Unit<D>;
    /**
     * Multiply by another unit (dimensions add)
     */
    mul<D2 extends Dimensions<DimExp, DimExp, DimExp, DimExp, DimExp, DimExp, DimExp>>(other: Unit<D2>): Unit<MulDimensions<D, D2>>;
    /**
     * Divide by another unit (dimensions subtract)
     */
    div<D2 extends Dimensions<DimExp, DimExp, DimExp, DimExp, DimExp, DimExp, DimExp>>(other: Unit<D2>): Unit<DivDimensions<D, D2>>;
    /**
     * Scale by a dimensionless number
     */
    scale(factor: number): Unit<D>;
    /**
     * Negate the value
     */
    neg(): Unit<D>;
    /**
     * Check equality with tolerance
     */
    equals(other: Unit<D>, tolerance?: number): boolean;
    /**
     * Format as string
     */
    toString(): string;
}
declare const meters: (v: number) => Unit<Length>;
declare const kilometers: (v: number) => Unit<Length>;
declare const centimeters: (v: number) => Unit<Length>;
declare const millimeters: (v: number) => Unit<Length>;
declare const feet: (v: number) => Unit<Length>;
declare const inches: (v: number) => Unit<Length>;
declare const miles: (v: number) => Unit<Length>;
declare const kilograms: (v: number) => Unit<Mass>;
declare const grams: (v: number) => Unit<Mass>;
declare const milligrams: (v: number) => Unit<Mass>;
declare const pounds: (v: number) => Unit<Mass>;
declare const seconds: (v: number) => Unit<Time>;
declare const minutes: (v: number) => Unit<Time>;
declare const hours: (v: number) => Unit<Time>;
declare const days: (v: number) => Unit<Time>;
declare const milliseconds: (v: number) => Unit<Time>;
declare const metersPerSecond: (v: number) => Unit<Velocity>;
declare const kilometersPerHour: (v: number) => Unit<Velocity>;
declare const milesPerHour: (v: number) => Unit<Velocity>;
declare const metersPerSecondSquared: (v: number) => Unit<Acceleration>;
declare const newtons: (v: number) => Unit<Force>;
declare const joules: (v: number) => Unit<Energy>;
declare const kilojoules: (v: number) => Unit<Energy>;
declare const calories: (v: number) => Unit<Energy>;
declare const kilocalories: (v: number) => Unit<Energy>;
declare const watts: (v: number) => Unit<Power>;
declare const kilowatts: (v: number) => Unit<Power>;
declare const kelvin: (v: number) => Unit<Temperature>;
declare const celsius: (v: number) => Unit<Temperature>;
declare const pascals: (v: number) => Unit<Pressure>;
declare const kilopascals: (v: number) => Unit<Pressure>;
declare const atmospheres: (v: number) => Unit<Pressure>;
/**
 * Check if two units have the same dimensions (compile-time)
 */
type SameDimensions<D1 extends Dimensions<DimExp, DimExp, DimExp, DimExp, DimExp, DimExp, DimExp>, D2 extends Dimensions<DimExp, DimExp, DimExp, DimExp, DimExp, DimExp, DimExp>> = D1 extends D2 ? (D2 extends D1 ? true : false) : false;
/**
 * Assert at compile time that dimensions are equal
 */
declare function assertSameDimensions<D1 extends Dimensions<DimExp, DimExp, DimExp, DimExp, DimExp, DimExp, DimExp>, D2 extends Dimensions<DimExp, DimExp, DimExp, DimExp, DimExp, DimExp, DimExp>>(_a: Unit<D1>, _b: Unit<D2>): SameDimensions<D1, D2>;

/**
 * Units Macro - Parse unit literals at compile time
 *
 * Usage:
 *   const distance = units`5 meters`;
 *   const speed = units`100 km/h`;
 *   const force = units`9.8 N`;
 */
/**
 * Units tagged template macro
 *
 * units`5 meters` => meters(5)
 * units`100 km/h` => kilometersPerHour(100)
 */
declare const unitsMacro: _typemacro_core.ExpressionMacro;
declare function register(): void;

/**
 * @typemacro/units - Type-Safe Physical Units Library
 *
 * A compile-time unit system inspired by boost::units.
 * Provides type-safe arithmetic operations that verify unit compatibility
 * at compile time.
 *
 * @example
 * ```typescript
 * import { meters, seconds, kilograms, units } from "@typemacro/units";
 *
 * const distance = meters(100);
 * const time = seconds(10);
 * const velocity = distance.div(time); // Type: Unit<Velocity>
 *
 * // Compile error: can't add meters and seconds
 * // const invalid = distance.add(time);
 *
 * // Using the units macro:
 * const speed = units`100 km/h`;  // Parsed at compile time
 * ```
 */

/**
 * Tagged template function for units - fallback when macro transform isn't applied.
 *
 * @example
 * ```typescript
 * const distance = units`100 meters`;
 * const speed = units`60 km/h`;
 * ```
 */
declare function units(strings: TemplateStringsArray): Unit<Dimensions<DimExp, DimExp, DimExp, DimExp, DimExp, DimExp, DimExp>>;

export { type Acceleration, type AddDim, type Area, type Current, type DimExp, type Dimensionless, type Dimensions, type DivDimensions, type Energy, type Force, type Frequency, type Length, type Mass, type MulDimensions, type NegDim, type Power, type Pressure, type Resistance, type SameDimensions, type SubDim, type Temperature, type Time, Unit, type Velocity, type Voltage, type Volume, assertSameDimensions, atmospheres, calories, celsius, centimeters, days, feet, grams, hours, inches, joules, kelvin, kilocalories, kilograms, kilojoules, kilometers, kilometersPerHour, kilopascals, kilowatts, meters, metersPerSecond, metersPerSecondSquared, miles, milesPerHour, milligrams, millimeters, milliseconds, minutes, newtons, pascals, pounds, register, seconds, units, unitsMacro, watts };
